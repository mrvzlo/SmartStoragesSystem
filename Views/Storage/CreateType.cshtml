@{
	ViewBag.Title = "New storage type";
}
<div class="row justify-content-between mt-4 mx-4">
	<h4>New storage</h4>
	@Html.ActionLink("Back", "Create", "Storage", new { @class = "btn btn-secondary" })
</div>
@using (Html.BeginForm("CreateType", "Storage", FormMethod.Post, new {@class="row justify-content-center"}))
{
	@Html.AntiForgeryToken()
<div class="col-md-6 storage" id="storage">
	<div class="row justify-content-center">
		<div class="col-1">Icon</div>
		<div class="col-md-1 col-10"><span id="IconPre"></span></div>
		<div class="col-md-9">@Html.Editor("Icon")</div>
		<div class="error col-12">@Html.ValidationMessage("Icon")</div>
		<div class="col-md-1">Color</div>
		<div class="col-md-1"></div>
		<div class="col-md-9">@Html.Editor("Background", $"ffffff", new { htmlAttributes = new { @class = "jscolor" } })</div>
		<div class="error col-12">@Html.ValidationMessage("Background")</div>
		<div class="col-md-1">Name</div>
		<div class="col-md-1"></div>
		<div class="col-md-9">@Html.Editor("Name")</div>
		<div class="error col-12">@Html.ValidationMessage("Name")</div>
		<div class="text-center col-6"><input type="submit" value="Create" class="btn btn-main col-6" /></div>
	</div>
</div>
}
@section scripts{
	<script>
		$("#Icon").on('input', function () {
			$('#IconPre').removeClass();
			$("#IconPre").addClass("fa fa-" + $(this).val());
		});

		$('body').click(function() {
			$('#storage').css("background-color", "#"+$('#Background').val());
		});
	</script>
}