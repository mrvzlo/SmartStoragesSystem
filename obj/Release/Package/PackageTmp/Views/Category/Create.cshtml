@model List<SmartKitchen.Models.CategoryDisplay>
@{
    ViewBag.Title = "Create storage";
}

<table id="table" class="table table-hover table-bordered text-center">
    <tr>
        <th style="width: 40%">Category name</th>
        <th style="width: 50%">Products count</th>
        <th style="width: 10%"></th>
    </tr>
    @foreach (var i in Model)
    {
        <tr>
            <td>@i.Name</td>
            <td>@i.ProductsCount</td>
            <td>
                <a href="" class="col-1 text-decoration-none">❌</a>
            </td>
        </tr>
    }
</table>

<div class="row text-center justify-content-center">
    <div class="col-lg-2 col-md-4 col-12">New category</div>
    <div class="col-md-5 col-8 my-md-0 my-2">@Html.Editor("Name")</div>
    <button class="col-md-1 col-5 btn btn-success p-0" onclick="addRow();">Add</button>
</div>
@section scripts{
    <script>
        function addRow() {
            var name = $('#Name').val();
            $.ajax({
                url: '@Url.Action("Create", "Category")?name=' + name,
                success: function() {
                    var row = document.getElementById("table").insertRow(@(Model.Count-1));
                }
            });
        }
    </script>
}